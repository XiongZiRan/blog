{% extends 'base.html' %}
{% load static %}

{% block title %}登陆{% endblock title %}
{% block topfiles %}{% endblock topfiles %}
{% block header_con %}{% endblock header_con %}
{% block body %}

<!--content-->
    <h1 class="text-light text-center">登录</h1>
<div class="container bg-dark text-light" style="height: fit-content; margin-top: 2rem; padding-top: 1rem; padding-bottom: 1rem; border-radius: 20px">
    <div class="row" >
        <div class="col-12">
            <div class="col-6">
                <form class="login" id="login_form" method="POST">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="id_login">账号: </label>
                        <input type="text" name="mobile" placeholder="请输入手机号" autofocus="autofocus" required id="id_login" class="form-control bg-dark text-light" v-model="mobile" @blur="check_mobile"/>
                        <small class="form-text text-muted ml-1">还没有账号？<a href="{% url 'users:register' %}" style="color: cornflowerblue; ">注册新账号</a>
                        </small>
                    </div>
                    <div class="form-group mb-1">
                        <label for="id_password">密码:</label>
                        <input type="password" name="password" placeholder="请输入密码" required id="id_password" class="form-control bg-dark text-light" v-model="password" @blur="check_password"/>
                        <small class="form-text text-muted ml-1"><a class="secondaryAction layui-text" href="{% url 'users:forgetpassword' %}">忘记密码?</a>
                        </small>
                    </div>
                    <div class="custom-control custom-checkbox mb-2">
                        <input type="checkbox" name="remember" id="id_remember" checked class="custom-control-input bg-dark" v-model="remembered"/>
                        <label for="id_remember" class="custom-control-label">保持登录</label>
                    </div>
                    <button class="primaryAction btn btn-primary bg-dark" style=" width: 510px" type="submit" id="submit_login" @click="on_submit">登录</button>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock body %}
{% block footer_con %}{% endblock footer_con %}
{% block bottomfiles %}
    <script type="text/javascript" src="{% static 'js/login.js' %}"></script>
{% endblock bottomfiles %}